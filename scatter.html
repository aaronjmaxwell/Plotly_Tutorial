<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8"/>
  <link rel="stylesheet" href="styles.css">
  <title>A Simple Scatter Plot</title>
</head>
<body>
  <header><a href="./index.html">Return to index</a></header>
  <h2>A Simple Scatter Plot</h2>
  <p>The plot below was created using the following code snippet:</p>
  <pre><code>
    <b>import</b> plotly <b>as</b> ply
    <b>from</b> plotly <b>import</b> graph_objs <b>as</b> GO
    <b>import</b> numpy <b>as</b> np
    x,y = np.random.random(100), np.random.random(100)
    layout = GO.Layout(title = <b class="txt">"A Simple Scatter Plot"</b>)
    data = GO.Scatter(x = x, y = y, mode = <b class="txt">"markers"</b>)
    fig = <b>dict</b>(data = [data], layout = layout)
    ply.offline.plot(fig, show_link = <b class="type">False</b>, filename = <b class="txt"</b>"plotly_scatter.html"</b>, auto_open = <b class="type">False</b>)
  </code></pre>
  <p>This creates a stand-alone file that would display only the following plot.</p>
  <div id="Simple_Scatter" style="height: 100%; width: 100%;" class="plotly-graph-div"></div>
  <p>The html file consists of JavaScript contained in three <i>script</i> tags that have been
  stripped out.  The first tag contains almost all of the <b class="txt">plotly.js</b> library.
  The third tag consists of JavaScript that adds a window EventListener using the element ID.  Thus,
  it is kept in its <i>script</i> tag in this document.  The second JavaScript contains the actual
  commands for the created figure that is associated with the <i>div</i> tag
  <code>div id="Simple_Scatter" style="height: 100%; width: 100%;" class="plotly-graph-div"</code>
  Note the element ID is defined here as well.  Since we've carved out the <i>plotly.js</i> library,
  we need never run <code>ply.offline.plot(fig, show_link = <b class="type">False</b>, filename = <b class="txt"</b>"plotly_scatter.html"</b>, auto_open = <b class="type">False</b>)</code> again.
  Instead, we run <code>ply.offline.plot(fig, output_type = <b class="txt">"div</b>, include_plotlyjs = <b class="type"/>False</b>)</code> will output the new <i>div</i> tag and the new
  <i>script</i> tag for JavaScript needed to create the figure.  The new IDs are randomly generated
  hex strings (think python's <b>uuid</b> package).  Fun side note: if the user zooms in, simply
  double click on the plot twice to reset to the original view.</p>
  <h2>The Figure JSON Object</h2>
  <p>Parse the JSON object in <b class="txt">plotly_scatter.json</b> to see that the object keys are
  <i>type</i>, <i>x</i>, <i>y</i>, and <i>mode</i>.  In this case, our type is <i>scatter</i>, our
  mode is <i>markers</i>, and both x and y hold the random data generated by <code>numpy</code>.</p>
  <h1>Combining Multiple Scatter Plots</h1>
  <p>The next step is to include multiple data sequences on a single plot.  Here is the snippet:</p>
  <pre><code>
    <b>import</b> plotly <b>as</b> ply
    <b>from</b> plotly <b>import</b> graph_objs <b>as</b> GO
    <b>import</b> numpy <b>as</b> np
    x = np.linspace(0, 1, 100)
    u = np.random.randn(100) + 5
    v = np.random.randn(100) - 5
    y = np.random.randn(100)
    yline = GO.Scatter(x = x, y = y, mode = <b class="txt">"markers"</b>, name = <b class="txt">"markers"</b>)
    uline = GO.Scatter(x = x, y = u, mode = <b class="txt">"lines+markers"</b>, name = <b class="txt">"lines+markers"</b>)
    vline = GO.Scatter(x = x, y = v, mode = <b class="txt">"lines"</b>, name = <b class="txt">"lines"</b>)
    data = [yline, uline, vline]
    fig = <b>dict</b>(data = data)
    ply.offline.plot(fig, output_type = <b class="txt">"div"</b>, include_plotlyjs = <b class="type"/>False</b>)
  </code></pre>
  <p>Which produces the following figure.</p>
  <div id="Multiple_Scatter" style="height: 100%; width: 100%;" class="plotly-graph-div"></div>
  <p>The objects <code>yline</code>, <code>uline</code>, and <code>vline</code> are actually coded
  as <b class="type">dict</b>s, so we can replace the last three lines with:</p>
  <pre><code>
    <b>import</b> json
    <b>for</b> obj <b>in</b> [yline, uline, vline]:
        <b>for</b> key <b>in</b> [<b class="txt">"x"</b>, <b class="txt">"y"</b>]:
            obj[key] = obj[key].tolist()
    <b>with</b> <b class="type">open</b>(<b class="txt">"scatter_yline.json"</b>, <b class="txt">"w"</b>) <b>as</b> f:
        json.dump(yline, f)
    <b>with</b> <b class="type">open</b>(<b class="txt">"scatter_uline.json"</b>, <b class="txt">"w"</b>) <b>as</b> f:
        json.dump(uline, f)
    <b>with</b> <b class="type">open</b>(<b class="txt">"scatter_vline.json"</b>, <b class="txt">"w"</b>) <b>as</b> f:
        json.dump(vline, f)
  </code></pre>
  <p>We then simply nest three d3.json calls and place the variables in a list and pass them to the
  Plotly.newPlot function as shown in <b class="txt">plotly_scatter.js</b>.</p>
</body>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script src="../JavaScript/plotly.js"></script>
<script src="../JavaScript/scatter.js"></script>
<script type="text/javascript">window.addEventListener("resize", function(){Plotly.Plots.resize(document.getElementById("Simple_Scatter"));});</script>
<script type="text/javascript">window.addEventListener("resize", function(){Plotly.Plots.resize(document.getElementById("Multiple_Scatter"));});</script>
</html>
